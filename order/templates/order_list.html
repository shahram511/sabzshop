{% load static %}
<link rel="stylesheet" href="{% static 'css/order_list.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

{% if orders %}
    <div class="order-list-container">
        <div class="order-list-table-wrapper">
            <table class="order-list-table">
                <thead>
                    <tr>
                        <th><i class="fas fa-hashtag"></i> شناسه سفارش</th>
                        <th><i class="fas fa-info-circle"></i> وضعیت</th>
                        <th><i class="fas fa-money-bill-wave"></i> مبلغ کل</th>
                        <th><i class="fas fa-credit-card"></i> وضعیت پرداخت</th>
                        <th><i class="fas fa-cog"></i> عملیات</th>
                    </tr>
                </thead>
                <tbody>
                    {% for order in orders %}
                    <tr class="order-row">
                        <td class="order-id-cell">
                            <i class="fas fa-receipt"></i>
                            <span>#{{ order.id }}</span>
                        </td>
                        <td>
                            <span class="status-badge status-{{ order.order_status }}">
                                {{ order.get_order_status_display|default:order.order_status }}
                            </span>
                        </td>
                        <td class="price-cell">
                            <strong>{{ order.get_total_price_with_post }} تومان</strong>
                        </td>
                        <td>
                            {% if order.paid %}
                                <span class="payment-badge paid">
                                    <i class="fas fa-check-circle"></i> پرداخت شده
                                </span>
                            {% else %}
                                <span class="payment-badge unpaid">
                                    <i class="fas fa-times-circle"></i> پرداخت نشده
                                </span>
                            {% endif %}
                        </td>
                        <td class="action-cell">
                            <a href="{% url 'order:order_detail' order.id %}" class="btn-details">
                                <i class="fas fa-eye"></i> جزئیات
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% else %}
    <div class="empty-state">
        <div class="empty-icon">
            <i class="fas fa-shopping-bag"></i>
        </div>
        <h3>شما هنوز سفارشی ثبت نکرده‌اید</h3>
        <p>برای شروع خرید، محصولات موردعلاقه خود را از فروشگاه انتخاب کنید.</p>
        <a href="{% url 'shop:product_list' %}" class="btn-shopping">
            <i class="fas fa-store"></i> ورود به فروشگاه
        </a>
    </div>
{% endif %}
